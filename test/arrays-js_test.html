<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>arrays.js test</title>

    <script src="../../@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../../wct-browser-legacy/browser.js"></script>
  </head>
  <body>

    <script type="module">
      import { findLastIndex, closest } from '../lib/arrays.js'

      suite('findLastIndex()', () => {

        test('should find last index matching predicate', () => {
          const array = [1, 2, 2, 3, 1]
          assert.deepEqual(findLastIndex(array, num => num === 1), 4)
        })

        test('should return -1 if no such element', () => {
          const array = []
          assert.deepEqual(findLastIndex(array, num => num === 1), -1)
        })

        test('should not mutate array', () => {
          const array = [1, 2, 2, 3, 1]
          findLastIndex(array, num => num === 1)
          assert.deepEqual(array, [1, 2, 2, 3, 1])
        })

      })

      suite('closest()', () => {

        const array = [2, 10, 11, 12.3, 23, 33, 50, 1204, 1e9]

        test('should find closest value', () => {
          assert.deepEqual(closest(40, array), 33)
        })

      })
    </script>

  </body>
</html>
